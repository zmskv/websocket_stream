# websocket_stream

`websocket_stream` — это приложение, которое получает сообщения из заданного Kafka топика и устанавливает WebSocket соединение для отправки этих сообщений в реальном времени.

## Описание

Проект подключается к Kafka брокерам, подписывается на указанный топик и начинает получать сообщения. Эти сообщения затем отправляются всем подключенным WebSocket клиентам. Это может быть полезно для приложений, требующих в реальном времени получать данные из Kafka и передавать их через WebSocket (например, для отображения данных на фронтенде).

## Технологии

- **Go** (Golang)
- **Kafka** (с использованием библиотеки [Sarama](https://github.com/IBM/sarama))
- **WebSocket** (с использованием библиотеки [Gorilla WebSocket](https://github.com/gorilla/websocket))
- **Gin** (HTTP Web Framework)

## Установка

1. **Клонировать репозиторий:**

   Клонируйте репозиторий с GitHub:

   ```sh
   git clone https://github.com/zmskv/websocket_stream.git
   ```

2. **Перейти в директорию проекта:**

   Перейдите в директорию проекта:

   ```sh
   cd websocket_stream
   ```

3. **Установить зависимости:**

   Для установки зависимостей используйте `go mod`:

   ```sh
   go mod tidy
   ```

4. **Настроить Kafka:**

   В файле `.env` укажите настройки Kafka:

   ```env
   KAFKA_BROKERS=localhost:9092  # Адреса Kafka брокеров
   TOPIC_NAME=topic_name         # Название Kafka топика
   GROUP_ID=consumer_group      # Идентификатор Consumer группы
   ```

5. **Запуск приложения:**

   Запустите приложение:

   ```sh
   go run main.go
   ```

   Приложение будет слушать входящие сообщения из Kafka и транслировать их через WebSocket на `ws://localhost:8080/ws`.

## Использование

1. **WebSocket подключение:**

   После запуска приложения подключитесь к WebSocket серверу, используя следующий URL:

   ```sh
   ws://localhost:8080/ws
   ```

2. **Как это работает:**

   - Приложение подключается к Kafka, подписывается на указанный топик.
   - Когда сообщение поступает в Kafka, оно передается в канал.
   - Веб-сервер слушает этот канал и отправляет полученные сообщения всем подключенным WebSocket клиентам.

3. **Получение сообщений:**

   Когда вы подключаетесь через WebSocket, каждое сообщение, поступающее в Kafka, будет передаваться через WebSocket в реальном времени.

## Примечания

- Убедитесь, что у вас настроен Kafka и его топик, чтобы приложение могло успешно получать сообщения.
